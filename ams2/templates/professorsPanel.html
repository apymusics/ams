
<!DOCTYPE html>
<html>

<head>
  <title>Professors panel</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <style>
    body {
      
      width: 100%;
      margin: 0;
      overflow: auto;
      background-color: #ffffff;
      z-index:0;
    }

    table {
      margin-bottom: 0;
    }

                     

    .jumbotron {
      background-color: #f8f9fa;
    }

   

    .table thead th {
      position: sticky;
      top: 0;
      background-color: black;
      color: white;      
    }

    select {
      color: black;
    }

    .table-wrapper {
      height: 450px;
      overflow-y: auto;
      
    }

    .btn-primary,
    .btn-secondary,
    .btn-success,
    .btn-danger {
      color: #ffffff;
    }   

    th {
      background-color: #333333;
      color: #ffffff;
    }

    td {
      color: #000000;
    }

    #alert-message {
      background-color: #333333;
      color: #ffffff;
    }
  
    
  .cen{
    text-align: center;
  }

  </style>
</head>

<body>
    <!-- Nav bar start -->
    <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-dark">
      <div class="container-fluid">
        {% comment %} <a class="navbar-brand" href="#">Navbar</a> {% endcomment %}
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            {% comment %} <li class="nav-item {% if request.path == '/adminModule/prof' %}active{% endif %}">
              <a class="nav-link" href="/../adminModule/prof"><button class="btn btn-
                {% if request.path == '/adminModule/prof' %}
                 
                {% else %}
                  outline
                {% endif %}
                -light btn-lg ">Professor</button></a>
            </li>
            <li class="nav-item {% if request.path == '/adminModule/reports' %}active{% endif %}">
              <a class="nav-link" href="/../adminModule/stu"><button class="btn btn-light btn-lg ">Student</button></a>
            </li> {% endcomment %}
  
            <li class="nav-item {% if request.path == '/adminModule/prof' %}active{% endif %}">
              <a class="nav-link" href="/../adminModule/prof">
                <button class="btn {% if request.path == '/adminModule/prof' %}btn-light{% else %}btn-outline-light{% endif %} btn-lg">
                  Professor
                </button>
              </a>
            </li>
            <li class="nav-item {% if request.path == '/adminModule/stu' %}active{% endif %}">
              <a class="nav-link" href="/../adminModule/stu">
                <button class="btn {% if request.path == '/adminModule/stu' %}btn-light{% else %}btn-outline-light{% endif %} btn-lg">
                  Student
                </button>
              </a>
            </li>
            <li class="nav-item {% if request.path == '/adminModule/reports' %}active{% endif %}">
              <a class="nav-link" href="/../adminModule/reports">
                <button class="btn {% if request.path == '/adminModule/reports' %}btn-light{% else %}btn-outline-light{% endif %} btn-lg">
                  Report
                </button>
              </a>
            </li>
            <li class="nav-item {% if request.path == '/adminModule/adminSettings   ' %}active{% endif %}">
              <a class="nav-link" href="/../adminModule/adminSettings">
                <button class="btn {% if request.path == '/adminModule/adminSettings' %}btn-light{% else %}btn-outline-light{% endif %} btn-lg">
                  Admin Settings
                </button>
              </a>
            </li>
            <li class="nav-item {% if request.path == '/adminModule/logs   ' %}active{% endif %}">
              <a class="nav-link" href="/../adminModule/logs">
                <button class="btn {% if request.path == '/adminModule/logs' %}btn-light{% else %}btn-outline-light{% endif %} btn-lg">
                  Logs
                </button>
              </a>
            </li>
            
            {% comment %} <li class="nav-item {% if request.path == '/adminModule/stu' %}active{% endif %}">
              <a class="nav-link" href="/../adminModule/reports"><button class="btn btn-outline-light btn-lg ">Report</button></a>
            </li>
            <li class="nav-item {% if request.path == '/adminModule/adminSettings' %}active{% endif %}">
              <a class="nav-link" href="/adminModule/adminSettings"><button class="btn btn-outline-light btn-lg ">Admin</button></a>
            </li> {% endcomment %}
          </ul>
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a type="button" href="/adminModule/logout" class="btn btn-danger btn-lg">Logout</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  <!-- Nav bar over -->
  <div class="jumbotron jumbotron-fluid" style="height: 50px;align-items: center; justify-content: center; margin-bottom: 20PX;">
    <div class="text-center mt-2" >
      <h1 class="display-6 p-2" style="margin:auto;font-weight: bolder;">Professor Panel</h1>
    </div>
  </div>
<!-- Button to trigger the modal COURSE ASSIGNMENT-->


<!-- Modal -->
<div class="modal fade" id="courseAssignmentModal" tabindex="-1" aria-labelledby="courseAssignmentModalLabel" aria-hidden="true">
  <div class="modal-dialog" style="max-width: 1200px;">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="courseAssignmentModalLabel">Course Assignment</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form method="POST">
          {% csrf_token %}
          <div class="row mt-4">          
              <div class="row mt-4">
                <div class="col">
                  <div class="input-group mb-3">
                    <select class="form-select" name="professor_name"  id="professor_name" style="margin-right: 10px;margin-top:-20px;">
                      <option value="">select</option>
                      
                      {% for name in pro2 %}
                      <option value="{{ name }}" {% if sem == request.GET.professor_name %}selected{% endif %}>{{ name }}</option>
                      {% endfor %}
                    </select>
                  </div>
                </div>
                <div class="col">
                  <div class="input-group mb-3">
                    <span class="input-group-text" id="inputGroupPrepend" style="width: 150px;">Course Code</span>
                    <select id="course_code" class="form-control" name="course_code" required style="margin-right: 10px;margin-LEFT: 10px;">
                      <option value="AGRI">AGRI</option>
                      <option value="AIT">AIT</option>
                      <option value="MATH">MATH</option>
                      <option value="ENG">ENG</option>
                    </select>
                    <input type="text" class="form-control" pattern="[0-9]\d*"
                      oninput="this.value = this.value.replace(/[^0-9\d]/g, '')" placeholder="Enter Number" maxlength="3"
                      id="course_number" name="course_number" required style="margin-left: 10px;">
                  </div>
                </div>
              </div>
          
              <div class="row">
                <div class="col">
                  <div class="input-group mb-3">
                    <span class="input-group-text" style="width: 150px;">Course Name</span>
                    <input type="text" maxlength="40" placeholder="Enter Course Title" class="form-control" name="course_name" id="course_name"
                      pattern="[A-Za-z\s]+" oninput="this.value = this.value.replace(/[^A-Za-z\s]/g, '')" required style="margin-left: 10px;">
                  </div>
                </div>
                <div class="col">
                  <div class="input-group mb-3">
                    <span class="input-group-text" style="width: 150px;">Semester</span>
                    <select id="semester" class="form-control" name="semester" required style="margin-right: 10px;margin-LEFT: 10px;">
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                      <option value="6">6</option>
                      <option value="7">7</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="d-flex justify-content-center mt-1">
                <button type="submit" class="btn btn-success mb-3" name="course_assignment">Enter Record</button>
              </div>
          
              {% if messages %}
              <div class="row">
                <div class="col">
                  {% for message in messages %}
                  <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert" id="alert-message">
                    {{ message }}
                  </div>
                  {% endfor %}
                </div>
              </div>
              {% endif %}
            </form>
          </div>

        </form>
        {% if messages %}
        <div class="row">
          <div class="col">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert" id="alert-message">
              {{ message }}
            </div>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
    </div>
  </div>

  
</div>
<ul class="nav nav-pills nav-fill gap-2 p-1 small bg-info rounded-5 shadow-sm" id="pillNav2" role="tablist" style="--bs-nav-link-color: var(--bs-white); --bs-nav-pills-link-active-color: var(--bs-primary); --bs-nav-pills-link-active-bg: var(--bs-white);">
  <li class="nav-item" role="presentation">
    <a class="nav-link  rounded-5"   href="http://127.0.0.1:8000/adminModule/prof_view"><h5>Add Professor</h5></a>
  
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link active rounded-5"   href="http://127.0.0.1:8000/adminModule/prof"><h5>Assign Course</h5></a>
  </li>
</ul>


  <script>
    // Wait for the page to load
    document.addEventListener('DOMContentLoaded', function () {
      // Get the alert message element
      const alertMessage = document.getElementById('alert-message');

      // If the alert message exists
      if (alertMessage) {
        // Set a timeout to hide the alert after 3 seconds
        setTimeout(function () {
          alertMessage.style.display = 'none';
        }, 3000);
      }
    });
  </script>


  <!-- form over -->
  <!-- form start -->


  <!-- Filter Form over -->
</form>


  <!-- form over -->
<form id="myForm" method="GET">
{% csrf_token %}
<div class="holster " style="transform: scaleX(0.97);">
  <div class=" bg-dark rounded-5 " >
    <div class="row mt-2" style="margin-bottom:1%">
      <div class=" col-lg-4">
        <th scope="col"><h1><span class="badge rounded-pill bg-dark text-">Course Assignment
        </span></h1></th>
      </div>
      <div class=" col-lg-3" style="margin-top:0.2%;">
      
        <label for="sem" class="text-light">Semester</label>
        <select id="sem" class="form-select" name="sem_filter" onchange="this.form.submit()" id="sem_filter">
          <option value="">All</option>
          
          {% for sem in sem %}
          <option value="{{ sem }}" {% if sem == request.GET.sem_filter %}selected{% endif %}>{{ sem }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-lg-3" style="margin-top:0.2%">
        <div>        
          <label for="sem" class="text-light">Professor</label>
          <select  class="form-select"  name="prof_filter" id="prof_filter" onchange="this.form.submit()">
            <option value="">All</option>
            {% for prof in pro %}
            <option value="{{ prof }}" {% if prof == request.GET.prof_filter %}selected{% endif %}>{{ prof }}</option>
            {% endfor %}
          </select>            
        </div>
      </div>
      <div class="col-lg-2" style="margin-top: 1.9%">        
        <button type="button" class="btn rounded-pill text-light "data-bs-toggle="modal" data-bs-target="#courseAssignmentModal" style="background-color:darkslateblue;">
          Assign Course
        </button>   
      </div> 
    </div>


     
   
    <div class=" bg-dark rounded-5 ">
      <div class="table-responsive " style="height:425px;overflow-y:auto;">

        <table class="table table-dark   text-light table-hover " >
          <thead style="position: sticky;top: 0;background-color: black;">
            <tr>
              <th class="cen" scope="col">ID🔑</th>
              <th class="cen" scope="col">Professor Name👩‍🏫</th>
              <th class="cen" scope="col">Course Code✍️</th>
              <th class="cen" scope="col">Course Name📝</th>
              <th class="cen" scope="col">Semester📚</th>          
              <th class="cen" scope="col">Actions👇</th>
            </tr>
          </thead>
          <tbody>
            {% for i in pd %}
            <tr>
              <td class="cen">{{ i.uid }}</td>
              <td class="cen">{{ i.professor_name }}</td>
              <td class="cen">{{ i.course_code }}{{ i.course_num }}</td>
              <td class="cen">{{ i.course_name }}</td>
              <td class="cen">{{ i.semester }}</td>             
              <td class="cen">
                <a href="prof/pedit/{{i.uid}}" class="btn btn-primary btn-sm"><svg xmlns="http://www.w3.org/2000/svg" fill="none" height="20" viewBox="0 0 24 24" width="20"><path d="m16.293 2.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-13 13a1 1 0 0 1 -.707.293h-4a1 1 0 0 1 -1-1v-4a1 1 0 0 1 .293-.707l10-10zm-2.293 5.121-9 9v2.586h2.586l9-9zm4 1.172 1.586-1.586-2.586-2.586-1.586 1.586z" fill="white"/></svg>Edit</a>
                <a href="prof/pdelete/{{i.uid}}" onclick="return confirm('Are you sure you want to delete this record?')"
                  class="btn btn-danger btn-sm"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M7 4a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2h4a1 1 0 1 1 0 2h-1.069l-.867 12.142A2 2 0 0 1 17.069 22H6.93a2 2 0 0 1-1.995-1.858L4.07 8h5a1 1 0 0 1 0-2h4V4zm2 2h6V4H9v2zM6.074 8l.857 12H17.07l.857-12H6.074zM10 10a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0v-6a1 1 0 0 1 1-1zm4 0a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0v-6a1 1 0 0 1 1-1z" fill="white"/></svg>Delete</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
</form> 
</body>
</html>
